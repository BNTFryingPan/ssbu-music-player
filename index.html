<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Music Player</title>

        <link rel="stylesheet" href="style.css" />
    </head>
    <body id="body" data-currentLevel="top-menu" data-prevLevel="top-menu">
        <div id='hidden-stuff' style='display: none'>
            <audio id="song">ok boomer</audio>
        </div>

        <header id="titlebar">
            <div id="drag-region">

                <div id="window-title">
                    <span id="window-title-text">Vault > Sounds</span>
                </div>

                <div id="window-controls">
                    <div class="button" id="min-button" title="Minimize">
                        <span>&#xE921;</span>
                    </div>
                    <div class="button" id="max-button" title="Maximize">
                        <span>&#xE922;</span>
                    </div>
                    <div class="button" id="restore-button" title="Restore">
                        <span>&#xE923;</span>
                    </div>
                    <div class="button" id="close-button" title="Close">
                        <span>&#xE8BB;</span>
                    </div>
                    <div class="button" id="settings-button" title="Settings">
                        <span></span>
                    </div>
                    <div class="button" id="back-button" title="Back">
                        <span></span>
                    </div>

                </div>
            </div>
        </header>

        
        <div id='main'>
            <div id='top-settings' style='display: none'>
                Enable Windows 10 Acrylic Background <input id="settings-acrylic" type="checkbox" checked>
                <input id='settings-refresh-albums' value="Refesh Album List" type="button" onclick="loadAlbums()">
                <div id='settings-info'>TheDerpyMemeSquad</div>
            </div>
            <div id='top-menu'>
                <div id="top-music-button" onclick="loadAlbums();openMusicMenu();" class="top-button select-hover-anim">
                    Music
                </div>
                <div id="top-playlist-button" onclick="openPlaylistMenu()" class="top-button select-hover-anim">
                    Playlists
                </div>
                <div id="top-services-button" onclick="openServicesMenu()" class="top-button select-hover-anim">
                    Services
                </div> 
                
                <div id='top-footer-bar'>

                </div>
            </div>

            <div id="normal" hidden>
                <div class="now-playing-spacer"></div>
                
                <div id="album-info-header">
                    <img id="album-info-header-img" class="album-logo" src='./other-album.png' width="12%">
                    <div id="album-info-header-thing"></div>
                    <span id="album-info-header-thing-text">asdf</span>
                </div>
                
                <div id="services" style="display:none">
                    <div style="height: calc(9em)"></div>
                    <div id="s-content">
                        <div id="s-twitch-div">
                            <span>Twitch Integration</span>
                            <input type="button" value="Sign in with Twitch" onclick="beginTwitchOauthFlow()"><br>
                            <span>Enable Songrequest:</span> <input type="checkbox">
                        </div>
                    </div>
                </div>


                <div id='list-container'>
                    <div style="height: calc(9em)"></div>
                    <div id="song-list" style="display: none">
                        <table id='song-list-t'>
                            <tbody id='song-list-tbody'>
                                <tr><td></td><td>0</td><td>Example Song</td><td>0:00</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div id='album-list' style="display: none"></div>
                    <div id="playlist-list" style="display: none"></div>
                </div>
            </div>


            <div id='now-playing' class='no-song' hidden>
                <div id='song-alb-img'>
                    <img id='song-info-art' class="album-logo" src='./other-album.png' width="50%">
                    <span>Local Files</span>
                </div>
                <div id='song-info'>
                    <input type="button" onclick="toggleSongInfoModal()" value="Song Info" id="song-info-button">
                    <div id="advanced-song-info-modal" style="display: none">
                        <input type="button" onclick="toggleSongInfoModal(false)" value="Back" id="song-info-close">
                        <span id="song-info-title2">title - album - artist</span><br>
                        <span id="song-info-genre">genre - comment</span><br>
                        <span id="song-info-line1">year - mm:ss - disk/total - track/total</span><br>
                        Format: <span id="song-info-line2">MP3 - MPEG - lossless</span>
                    </div>
                    <div id="song-info-title"></div>
                    <div id="song-info-album"></div>
                    <div id="song-info-artist"></div>
                </div>
                <div id='song-controls'>
                    <input type="range" step="0.000001" id="now-playing-seek-slider" oninput="updateSongProgressFromBar()" class="song-progress seek-slider">
                    <span id='shuffle-state'>Random</span>
                    <input type="button" id="np-prev"    value="prev"    onclick="prevSong()">
                    <input type="button" id="np-pause"   value="pause"   onclick="pauseSong()"> 
                    <input type="button" id="np=next"    value="next"    onclick="nextSong()">
                    <input type="button" id="np-shuffly" value="shuffle" onclick="shuffleSongs()">
                </div>
            </div>
            
            
        </div>
    </div>

        <script>
            // You can also require other files to run in this process
            require('./renderer.js')
        </script>
        <script src="./playlists.js"></script>
        <script src="./songs.js"></script>
        <script src="./albums.js"></script>
        <script src="./music-player.js"></script>
        <script src="./ui.js"></script> 
        <script src="./twitch.js"></script>
    </body>
</html>