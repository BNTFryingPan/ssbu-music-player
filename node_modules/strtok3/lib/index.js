"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const FileTokenizer_1 = require("./FileTokenizer");
const fs = require("./FsPromise");
const ReadStreamTokenizer_1 = require("./ReadStreamTokenizer");
const core = require("./core");
/**
 * Construct ReadStreamTokenizer from given file path.
 * @param filePath
 * @returns {Promise<FileTokenizer>}
 */
exports.fromFile = FileTokenizer_1.FileTokenizer.fromPath;
/**
 * Construct ReadStreamTokenizer from given Stream.
 * Will set fileSize, if provided given Stream has set the .path property.
 * @param stream Stream.Readable
 * @returns {Promise<ReadStreamTokenizer>}
 */
async function fromStream(stream) {
    if (stream.path) {
        const stat = await fs.stat(stream.path);
        return core.fromStream(stream, stat.size);
    }
    return new ReadStreamTokenizer_1.ReadStreamTokenizer(stream);
}
exports.fromStream = fromStream;
/**
 * Construct ReadStreamTokenizer from given Buffer.
 * @param buffer Buffer to tokenize
 * @returns BufferTokenizer
 */
exports.fromBuffer = core.fromBuffer;
//# sourceMappingURL=index.js.map